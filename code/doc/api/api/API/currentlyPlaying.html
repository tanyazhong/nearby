<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="API docs for the currentlyPlaying method from the API class, for the Dart programming language.">
  <title>currentlyPlaying method - API class - api library - Dart API</title>


  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  
  <link rel="stylesheet" href="../../static-assets/github.css?v1">
  <link rel="stylesheet" href="../../static-assets/styles.css?v1">
  <link rel="icon" href="../../static-assets/favicon.png?v1">

  
</head>


<body data-base-href="../../"
      data-using-base-href="false">

<div id="overlay-under-drawer"></div>

<header id="title">
  <button id="sidenav-left-toggle" type="button">&nbsp;</button>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="../../index.html">my_app</a></li>
    <li><a href="../../api/api-library.html">api</a></li>
    <li><a href="../../api/API-class.html">API</a></li>
    <li class="self-crumb">currentlyPlaying method</li>
  </ol>
  <div class="self-name">currentlyPlaying</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<main>


  <div id="dartdoc-main-content" class="main-content">
      <div>
<h1><span class="kind-method">currentlyPlaying</span> method 
    <a href="https://dart.dev/null-safety" class="feature feature-null-safety" title="Supports the null safety language feature.">Null safety</a>
</h1></div>

    <section class="multi-line-signature">
      

<span class="returntype"><a href="https://api.flutter.dev/flutter/dart-async/Future-class.html">Future</a><span class="signature">&lt;<wbr><span class="type-parameter"><a href="https://pub.dev/documentation/spotify/0.6.0/spotify/Track-class.html">Track</a></span>&gt;</span></span>
<span class="name ">currentlyPlaying</span>(<wbr>)

      

    </section>
    
<section class="desc markdown">
  <p>Gets the currently playing song, if any are playing.</p>
<p>Takes no parameters, and returns the currently playing song of the authenticated user.
Since this function takes in no params, it adheres well to the information hiding principles.
If we wanted to change how we assess currently playing song, we can simply swap out this
implementation for another one. For instance, let's suppose that we wanted to count any
song played in the last 10 minutes as "currently playing". We could make isolated changes
to this function without touching client code.</p>
</section>


    
<section class="summary source-code" id="source">
  <h2><span>Implementation</span></h2>
  <pre class="language-dart"><code class="language-dart">Future&lt;Track&gt; currentlyPlaying() async {
  await spotify.me.currentlyPlaying().then((Player? a) {
    if (a == null) {
      print(&#39;Nothing currently playing.&#39;);
      currentTrack =
          spotify.tracks.get(&#39;4pvb0WLRcMtbPGmtejJJ6y?si=c123ba3cb2274b8f&#39;);
      return currentTrack;
    }
    print(&#39;Currently playing: ${a.item?.name}&#39;);
    String? preview = a.item!.album!.images!.first.url;
    print(&#39;image is ${preview}&#39;);

    currentlyPlayingBool = true;
    album = a.item!.album;
    currentTrack = a.item!;
    print(&#39;assigned&#39;);
  }).catchError((error) {
    print(&#39;error status is $error&#39;);
    currentTrack =
        spotify.tracks.get(&#39;4pvb0WLRcMtbPGmtejJJ6y?si=c123ba3cb2274b8f&#39;);
  });
  return currentTrack;
}</code></pre>
</section>


  </div> <!-- /.main-content -->

  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
  <li><a href="../../index.html">my_app</a></li>
  <li><a href="../../api/api-library.html">api</a></li>
  <li><a href="../../api/API-class.html">API</a></li>
  <li class="self-crumb">currentlyPlaying method</li>
</ol>


    <h5>API class</h5>
    <ol>

    <li class="section-title"><a href="../../api/API-class.html#constructors">Constructors</a></li>
    <li><a href="../../api/API/API.html">API</a></li>


    <li class="section-title">
      <a href="../../api/API-class.html#instance-properties">Properties</a>
    </li>
    <li><a href="../../api/API/album.html">album</a></li>
    <li><a href="../../api/API/albumID.html">albumID</a></li>
    <li><a href="../../api/API/credentials.html">credentials</a></li>
    <li><a href="../../api/API/currentlyPlayingBool.html">currentlyPlayingBool</a></li>
    <li><a href="../../api/API/currentTrack.html">currentTrack</a></li>
    <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/hashCode.html">hashCode</a></li>
    <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/runtimeType.html">runtimeType</a></li>
    <li><a href="../../api/API/spotify.html">spotify</a></li>

    <li class="section-title"><a href="../../api/API-class.html#instance-methods">Methods</a></li>
    <li><a href="../../api/API/authenticate.html">authenticate</a></li>
    <li><a href="../../api/API/authenticateUser.html">authenticateUser</a></li>
    <li><a href="../../api/API/createPlaylist.html">createPlaylist</a></li>
    <li><a href="../../api/API/currentlyPlaying.html">currentlyPlaying</a></li>
    <li><a href="../../api/API/getProfileImage.html">getProfileImage</a></li>
    <li><a href="../../api/API/getRecentlyPlayed.html">getRecentlyPlayed</a></li>
    <li><a href="../../api/API/getUserDisplayName.html">getUserDisplayName</a></li>
    <li><a href="../../api/API/imageUrl.html">imageUrl</a></li>
    <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/noSuchMethod.html">noSuchMethod</a></li>
    <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/toString.html">toString</a></li>

    <li class="section-title inherited"><a href="../../api/API-class.html#operators">Operators</a></li>
    <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/operator_equals.html">operator ==</a></li>




</ol>

  </div><!--/.sidebar-offcanvas-->

  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
  </div><!--/.sidebar-offcanvas-->

</main>

<footer>
  <span class="no-break">
    my_app
      1.0.0+1
  </span>

  
</footer>



<script src="../../static-assets/highlight.pack.js?v1"></script>
<script src="../../static-assets/script.js?v1"></script>



</body>

</html>

