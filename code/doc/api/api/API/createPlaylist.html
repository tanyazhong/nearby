<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="API docs for the createPlaylist method from the API class, for the Dart programming language.">
  <title>createPlaylist method - API class - api library - Dart API</title>


  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  
  <link rel="stylesheet" href="../../static-assets/github.css?v1">
  <link rel="stylesheet" href="../../static-assets/styles.css?v1">
  <link rel="icon" href="../../static-assets/favicon.png?v1">

  
</head>


<body data-base-href="../../"
      data-using-base-href="false">

<div id="overlay-under-drawer"></div>

<header id="title">
  <button id="sidenav-left-toggle" type="button">&nbsp;</button>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="../../index.html">my_app</a></li>
    <li><a href="../../api/api-library.html">api</a></li>
    <li><a href="../../api/API-class.html">API</a></li>
    <li class="self-crumb">createPlaylist method</li>
  </ol>
  <div class="self-name">createPlaylist</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<main>


  <div id="dartdoc-main-content" class="main-content">
      <div>
<h1><span class="kind-method">createPlaylist</span> method 
    <a href="https://dart.dev/null-safety" class="feature feature-null-safety" title="Supports the null safety language feature.">Null safety</a>
</h1></div>

    <section class="multi-line-signature">
      

<span class="returntype"><a href="https://api.flutter.dev/flutter/dart-async/Future-class.html">Future</a><span class="signature">&lt;<wbr><span class="type-parameter"><a href="https://pub.dev/documentation/spotify/0.6.0/spotify/Playlist-class.html">Playlist</a></span>&gt;</span></span>
<span class="name ">createPlaylist</span>(<wbr><ol class="parameter-list"><li><span class="parameter" id="createPlaylist-param-songURIs"><span class="type-annotation"><a href="https://api.flutter.dev/flutter/dart-core/Iterable-class.html">Iterable</a><span class="signature">&lt;<wbr><span class="type-parameter"><a href="https://api.flutter.dev/flutter/dart-core/String-class.html">String</a></span>&gt;</span></span> <span class="parameter-name">songURIs</span></span></li>
</ol>)

      

    </section>
    
<section class="desc markdown">
  <p>Adds provided songs into a playlist.</p>
<p>Returns a playlist type representing in Flutter the playlist that was just created, that should exist in the user's Spotify account.
This function takes in an iterable list of songURIs represented by songs, and then adds them all to a playlist in the user's account.
This function only needs an iterable string of songURIs, so it adheres well to the information hiding principle. This means that this API
can remain unchanged in the face of changing requirements -- for instance, if we wanted to create playlists out of song names, we could
just create a wrapper function that would map song names to songURIs.
Similarly, this function is robust in the face of switching Spotify APIs. Since we rely on an external Spotify dependency, we could swap that
API out for another one in the lines below without affecting client classes.</p>
</section>


    
<section class="summary source-code" id="source">
  <h2><span>Implementation</span></h2>
  <pre class="language-dart"><code class="language-dart">Future&lt;Playlist&gt; createPlaylist(Iterable&lt;String&gt; songURIs) async {
  var user = await spotify.me.get();
  Playlist newPlaylist = await spotify.playlists.createPlaylist(
    user.id!,
    &#39;nEARby Playlist&#39;,
    description:
        &#39;Autogenerated playlist with songs played near you, created by nEARby&#39;,
    public: false,
  );

  for (String uri in songURIs) {
    try {
      if (uri.startsWith(&quot;spotify:track:&quot;)) {
        await spotify.playlists.addTrack(uri, newPlaylist.id!);
      } else {
        &#47;&#47; Need to prepend spotify URI info
        await spotify.playlists
            .addTrack(&quot;spotify:track:&quot; + uri, newPlaylist.id!);
      }
    } on Exception catch (e) {
      print(e);
    }
  }

  return newPlaylist;
}</code></pre>
</section>


  </div> <!-- /.main-content -->

  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
  <li><a href="../../index.html">my_app</a></li>
  <li><a href="../../api/api-library.html">api</a></li>
  <li><a href="../../api/API-class.html">API</a></li>
  <li class="self-crumb">createPlaylist method</li>
</ol>


    <h5>API class</h5>
    <ol>

    <li class="section-title"><a href="../../api/API-class.html#constructors">Constructors</a></li>
    <li><a href="../../api/API/API.html">API</a></li>


    <li class="section-title">
      <a href="../../api/API-class.html#instance-properties">Properties</a>
    </li>
    <li><a href="../../api/API/album.html">album</a></li>
    <li><a href="../../api/API/albumID.html">albumID</a></li>
    <li><a href="../../api/API/credentials.html">credentials</a></li>
    <li><a href="../../api/API/currentlyPlayingBool.html">currentlyPlayingBool</a></li>
    <li><a href="../../api/API/currentTrack.html">currentTrack</a></li>
    <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/hashCode.html">hashCode</a></li>
    <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/runtimeType.html">runtimeType</a></li>
    <li><a href="../../api/API/spotify.html">spotify</a></li>

    <li class="section-title"><a href="../../api/API-class.html#instance-methods">Methods</a></li>
    <li><a href="../../api/API/authenticate.html">authenticate</a></li>
    <li><a href="../../api/API/authenticateUser.html">authenticateUser</a></li>
    <li><a href="../../api/API/createPlaylist.html">createPlaylist</a></li>
    <li><a href="../../api/API/currentlyPlaying.html">currentlyPlaying</a></li>
    <li><a href="../../api/API/getProfileImage.html">getProfileImage</a></li>
    <li><a href="../../api/API/getRecentlyPlayed.html">getRecentlyPlayed</a></li>
    <li><a href="../../api/API/getUserDisplayName.html">getUserDisplayName</a></li>
    <li><a href="../../api/API/imageUrl.html">imageUrl</a></li>
    <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/noSuchMethod.html">noSuchMethod</a></li>
    <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/toString.html">toString</a></li>

    <li class="section-title inherited"><a href="../../api/API-class.html#operators">Operators</a></li>
    <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/operator_equals.html">operator ==</a></li>




</ol>

  </div><!--/.sidebar-offcanvas-->

  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
  </div><!--/.sidebar-offcanvas-->

</main>

<footer>
  <span class="no-break">
    my_app
      1.0.0+1
  </span>

  
</footer>



<script src="../../static-assets/highlight.pack.js?v1"></script>
<script src="../../static-assets/script.js?v1"></script>



</body>

</html>

